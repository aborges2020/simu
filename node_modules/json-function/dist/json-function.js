"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("."),__assign=function(){return __assign=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},__assign.apply(this,arguments)},JsonFunction=/** @class */function(){function a(){this.data=[],this.process=[],this.option={orderBy:null,where:null,limit:null,select:null,schema:null},this.config={resetRecord:!0}}return a.prototype.reset=function(){return this.option={orderBy:null,where:null,limit:null,select:null,schema:null},this.data=[],this.process=[],this},a.prototype.processManager=function(){var a=this,b=this.option,c=b.orderBy,d=b.where,e=b.limit,f=b.select,g=b.schema;this.process.forEach(function(b){switch(b){case"orderBy":var h=c[0],i=c[1];a.data=(0,_.OrderBy)(a.data,h,i);break;case"where":a.data=(0,_.Where)(a.data,d);break;case"limit":var j=e[0],k=e[1];a.data=(0,_.Limit)(a.data,j,k);break;case"select":a.data=(0,_.Select)(a.data,f);break;case"schema":a.data=(0,_.Schema)(a.data,g);}})},a.prototype.orderBy=function(a,b){return void 0===b&&(b="ASC"),this.option.orderBy=[a,b],this.process.push("orderBy"),this},a.prototype.where=function(a){return this.option.where=a,this.process.push("where"),this},a.prototype.limit=function(a,b){return void 0===a&&(a=10),void 0===b&&(b=0),this.option.limit=[a,b],this.process.push("limit"),this},a.prototype.schema=function(a){return this.option.schema=a,this.process.push("schema"),this},a.prototype.select=function(a){return this.option.select=a,this.process.push("select"),this},a.prototype.get=function(a,b){void 0===b&&(b={}),this.data=a,this.processManager();var c=this.data.slice(),d=__assign({},this.config,b);return!1!==d.resetRecord&&this.reset(),c},a}();exports.default=new JsonFunction;